<!doctype html>
<html lang="zh-CN">

  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>东京浪漫之旅 - 库洛米风格行程</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="2/6-2/11 东京浪漫之旅完整行程指南" />
    <meta name="theme-color" content="#9333ea" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="东京行程" />
    <link rel="manifest" href="/manifest.json" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <parameter name="gstatic" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&family=Pacifico&display=swap" rel="stylesheet" />
    
    <!-- Single Page Apps for GitHub Pages -->
    <!-- This script checks to see if a redirect is present in the query string,
    converts it back into the correct url and adds it to the browser's history
    using window.history.replaceState(...), which won't cause the browser to attempt
    to load the new url. When the single page app is loaded further down in this
    file, the correct url will be waiting in the browser's history for the single
    page app to route accordingly. -->
    <script type="text/javascript">
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
              console.log('SW registered: ', registration);
            })
            .catch((registrationError) => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
    <script
      defer
      src="%VITE_ANALYTICS_ENDPOINT%/umami"
      data-website-id="%VITE_ANALYTICS_WEBSITE_ID%"></script>
  </body>

</html>
